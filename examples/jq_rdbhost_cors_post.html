<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>RdbHost Plugin $.postData example</title>
    <script language="javascript" type="text/javascript"
				src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
    <script language="javascript" type="text/javascript"
				src="../js/jquery.rdbhost.cors.js"></script>
    <script language="javascript" type="text/javascript" src="../js/json2.js"></script>
		<script>

    $(document).ready(function () {

      $.rdbHostConfig({
        userName : "r0000000012",
				authcode : "-",
				domain   : 'dev.rdbhost.com'
      });

      var q = 'SELECT * FROM capitols';
			$('.targets').populateTable({q : q});

      function repopulate() {
				$('.targets').populateTable({q : q});
			}

      $('#demo-form').submit(function () {

				var $form = $('#demo-form'),
				    place = $form.find('#place').val().split(','),
				    pop = $form.find('#population').val(),
				    args = [place[0], place[1]||'', pop];

				$.postData( {
          'userName' : 'p0000000012',
					'authcode' : '-',
					'kw'       : 'postcapitol',
					'args'     : args,
					'callback' : repopulate
        });

				return false;
			});
    })

    </script>
</head>
<body>
  <h3>jQuery.Rdbhost $.postData Demo</h3>
	<p>This table is populated from the database.  Demonstrates populating a
	  preformatted table, and how to submit data from a form to the
		server.</p>
	<p>This is a live demo, so go ahead and submit an entry, see the table gain
	  an entry.</p>

	<table id="targettab" class="targets">
		<thead>
			<tr>
				<th>City</th>
				<th>Country</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="city">ABC</td>
				<td class="country" style="color:red;">DEF</td>
			</tr>
		</tbody>
	</table>

	<div style="border-style:double; width:400px">
		<form action='' method='post' id='demo-form' enctype="multipart/form-data" >
			<table>
				<tr>
					<td>City, Country</td><td><input type="text" size="30" id="place" name="place" /></td>
				</tr>
				<tr>
					<td>Pop</td><td><input type="text" size="30" id="population" name="population" /></td>
				</tr>
				<tr>
					<td colspan="2">
						<input type="submit" value="go" />
					</td>
				</tr>
			</table>
		</form>
	</div>
</body>
</html>
